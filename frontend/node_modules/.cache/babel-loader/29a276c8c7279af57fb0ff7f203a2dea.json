{"ast":null,"code":"var _jsxFileName = \"D:\\\\room-booking-app\\\\frontend\\\\src\\\\components\\\\UserDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserDashboard({\n  user\n}) {\n  _s();\n  const [rooms, setRooms] = useState([]);\n  const [msg, setMsg] = useState(\"\");\n  const [selectedRoom, setSelectedRoom] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [startTime, setStartTime] = useState(\"\");\n  const [endTime, setEndTime] = useState(\"\");\n\n  // Fetch all rooms\n  useEffect(() => {\n    fetch(\"http://localhost:5000/Admin/get-all-rooms\").then(res => res.json()).then(data => setRooms(data));\n  }, []);\n\n  // Book room\n  const handleBook = async e => {\n    e.preventDefault();\n    console.log(selectedRoom, date, startTime, endTime, user.id);\n    if (!selectedRoom) {\n      setMsg(\"Please select a room to book.\");\n      return;\n    }\n    const res = await fetch(`http://localhost:5000/User/book/${selectedRoom}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        date,\n        startTime,\n        endTime,\n        userId: user.id\n      })\n    });\n    const data = await res.json();\n    setMsg(data.message);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"User Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"All Rooms\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: rooms.map(room => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [room.roomname, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), \"Capacity: \", room.capacity, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), \"Amenities: \", room.amenities, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), \"Room Size: \", room.roomsize, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), room.bookings && room.bookings.length > 0 ? room.bookings.map((booking, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: \"1px solid #ccc\",\n            margin: \"8px\",\n            padding: \"8px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 21\n            }, this), \" \", new Date(booking.date).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Slots:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: booking.slots.map((slot, sidx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [slot.startTime, \" - \", slot.endTime, \" (Booked By:\", \" \", slot.bookedBy, \")\"]\n              }, sidx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 19\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"No bookings yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSelectedRoom(room._id),\n          children: \"Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)]\n      }, room._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), selectedRoom && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleBook,\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Book Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: date,\n        onChange: e => setDate(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Start Time (HH:MM)\",\n        value: startTime,\n        onChange: e => setStartTime(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"End Time (HH:MM)\",\n        value: endTime,\n        onChange: e => setEndTime(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Book Slot\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(UserDashboard, \"y8+Pr+Oy92uddFpWqEHKGftfXwA=\");\n_c = UserDashboard;\nvar _c;\n$RefreshReg$(_c, \"UserDashboard\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","UserDashboard","user","_s","rooms","setRooms","msg","setMsg","selectedRoom","setSelectedRoom","date","setDate","startTime","setStartTime","endTime","setEndTime","fetch","then","res","json","data","handleBook","e","preventDefault","console","log","id","method","headers","body","JSON","stringify","userId","message","children","fileName","_jsxFileName","lineNumber","columnNumber","map","room","roomname","capacity","amenities","roomsize","bookings","length","booking","idx","style","border","margin","padding","Date","toLocaleDateString","slots","slot","sidx","bookedBy","onClick","_id","onSubmit","type","value","onChange","target","placeholder","_c","$RefreshReg$"],"sources":["D:/room-booking-app/frontend/src/components/UserDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nexport default function UserDashboard({ user }) {\r\n  const [rooms, setRooms] = useState([]);\r\n  const [msg, setMsg] = useState(\"\");\r\n  const [selectedRoom, setSelectedRoom] = useState(\"\");\r\n  const [date, setDate] = useState(\"\");\r\n  const [startTime, setStartTime] = useState(\"\");\r\n  const [endTime, setEndTime] = useState(\"\");\r\n\r\n  // Fetch all rooms\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:5000/Admin/get-all-rooms\")\r\n      .then((res) => res.json())\r\n      .then((data) => setRooms(data));\r\n  }, []);\r\n\r\n  // Book room\r\n  const handleBook = async (e) => {\r\n    e.preventDefault();\r\n    console.log(selectedRoom, date, startTime, endTime, user.id);\r\n    if (!selectedRoom) {\r\n      setMsg(\"Please select a room to book.\");\r\n      return;\r\n    }\r\n    const res = await fetch(`http://localhost:5000/User/book/${selectedRoom}`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        date,\r\n        startTime,\r\n        endTime,\r\n        userId: user.id,\r\n      }),\r\n    });\r\n    const data = await res.json();\r\n    setMsg(data.message);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>User Dashboard</h2>\r\n      <h3>All Rooms</h3>\r\n      <ul>\r\n        {rooms.map((room) => (\r\n          <li key={room._id}>\r\n            {/* {room.roomname} (Capacity: {room.capacity}) */}\r\n            {room.roomname}\r\n            <br></br>Capacity: {room.capacity}\r\n            <br></br>Amenities: {room.amenities}\r\n            <br></br>Room Size: {room.roomsize}\r\n            <br></br>\r\n            {room.bookings && room.bookings.length > 0 ? (\r\n              room.bookings.map((booking, idx) => (\r\n                <div\r\n                  key={idx}\r\n                  style={{\r\n                    border: \"1px solid #ccc\",\r\n                    margin: \"8px\",\r\n                    padding: \"8px\",\r\n                  }}\r\n                >\r\n                  <div>\r\n                    <strong>Date:</strong>{\" \"}\r\n                    {new Date(booking.date).toLocaleDateString()}\r\n                  </div>\r\n                  <div>\r\n                    <strong>Slots:</strong>\r\n                    <ul>\r\n                      {booking.slots.map((slot, sidx) => (\r\n                        <li key={sidx}>\r\n                          {slot.startTime} - {slot.endTime} (Booked By:{\" \"}\r\n                          {slot.bookedBy})\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div>No bookings yet.</div>\r\n            )}\r\n            <button onClick={() => setSelectedRoom(room._id)}>Book</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      {selectedRoom && (\r\n        <form onSubmit={handleBook}>\r\n          <h4>Book Room</h4>\r\n          <input\r\n            type=\"date\"\r\n            value={date}\r\n            onChange={(e) => setDate(e.target.value)}\r\n          />\r\n          <input\r\n            placeholder=\"Start Time (HH:MM)\"\r\n            value={startTime}\r\n            onChange={(e) => setStartTime(e.target.value)}\r\n          />\r\n          <input\r\n            placeholder=\"End Time (HH:MM)\"\r\n            value={endTime}\r\n            onChange={(e) => setEndTime(e.target.value)}\r\n          />\r\n          <button type=\"submit\">Book Slot</button>\r\n        </form>\r\n      )}\r\n      <div>{msg}</div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}