{"ast":null,"code":"var _jsxFileName = \"D:\\\\room-booking-app\\\\frontend\\\\src\\\\components\\\\UserDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserDashboard({\n  user\n}) {\n  _s();\n  const [rooms, setRooms] = useState([]);\n  const [msg, setMsg] = useState(\"\");\n  const [selectedRoom, setSelectedRoom] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [startTime, setStartTime] = useState(\"\");\n  const [endTime, setEndTime] = useState(\"\");\n\n  // Fetch all rooms\n  useEffect(() => {\n    fetch(\"http://localhost:5000/Admin/get-all-rooms\").then(res => res.json()).then(data => setRooms(data));\n  }, []);\n\n  // Book room\n  const handleBook = async e => {\n    e.preventDefault();\n    console.log(selectedRoom, date, startTime, endTime, user.id);\n    const res = await fetch(`http://localhost:5000/User/book/${selectedRoom}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        date,\n        startTime,\n        endTime,\n        userId: user.id\n      })\n    });\n    const data = await res.json();\n    setMsg(data.message);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"User Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"All Rooms\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: rooms.map(room => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [room.roomname, \" (Capacity: \", room.capacity, \")\", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSelectedRoom(room._id),\n          children: \"Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this)]\n      }, room._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), selectedRoom && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleBook,\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Book Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: date,\n        onChange: e => setDate(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Start Time (HH:MM)\",\n        value: startTime,\n        onChange: e => setStartTime(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"End Time (HH:MM)\",\n        value: endTime,\n        onChange: e => setEndTime(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Book Slot\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(UserDashboard, \"y8+Pr+Oy92uddFpWqEHKGftfXwA=\");\n_c = UserDashboard;\nvar _c;\n$RefreshReg$(_c, \"UserDashboard\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","UserDashboard","user","_s","rooms","setRooms","msg","setMsg","selectedRoom","setSelectedRoom","date","setDate","startTime","setStartTime","endTime","setEndTime","fetch","then","res","json","data","handleBook","e","preventDefault","console","log","id","method","headers","body","JSON","stringify","userId","message","children","fileName","_jsxFileName","lineNumber","columnNumber","map","room","roomname","capacity","onClick","_id","onSubmit","type","value","onChange","target","placeholder","_c","$RefreshReg$"],"sources":["D:/room-booking-app/frontend/src/components/UserDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nexport default function UserDashboard({ user }) {\r\n  const [rooms, setRooms] = useState([]);\r\n  const [msg, setMsg] = useState(\"\");\r\n  const [selectedRoom, setSelectedRoom] = useState(\"\");\r\n  const [date, setDate] = useState(\"\");\r\n  const [startTime, setStartTime] = useState(\"\");\r\n  const [endTime, setEndTime] = useState(\"\");\r\n\r\n  // Fetch all rooms\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:5000/Admin/get-all-rooms\")\r\n      .then((res) => res.json())\r\n      .then((data) => setRooms(data));\r\n  }, []);\r\n\r\n  // Book room\r\n  const handleBook = async (e) => {\r\n    e.preventDefault();\r\n    console.log(selectedRoom, date, startTime, endTime, user.id);\r\n    const res = await fetch(`http://localhost:5000/User/book/${selectedRoom}`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        date,\r\n        startTime,\r\n        endTime,\r\n        userId: user.id,\r\n      }),\r\n    });\r\n    const data = await res.json();\r\n    setMsg(data.message);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>User Dashboard</h2>\r\n      <h3>All Rooms</h3>\r\n      <ul>\r\n        {rooms.map((room) => (\r\n          <li key={room._id}>\r\n            {room.roomname} (Capacity: {room.capacity})\r\n            <button onClick={() => setSelectedRoom(room._id)}>Book</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      {selectedRoom && (\r\n        <form onSubmit={handleBook}>\r\n          <h4>Book Room</h4>\r\n          <input\r\n            type=\"date\"\r\n            value={date}\r\n            onChange={(e) => setDate(e.target.value)}\r\n          />\r\n          <input\r\n            placeholder=\"Start Time (HH:MM)\"\r\n            value={startTime}\r\n            onChange={(e) => setStartTime(e.target.value)}\r\n          />\r\n          <input\r\n            placeholder=\"End Time (HH:MM)\"\r\n            value={endTime}\r\n            onChange={(e) => setEndTime(e.target.value)}\r\n          />\r\n          <button type=\"submit\">Book Slot</button>\r\n        </form>\r\n      )}\r\n      <div>{msg}</div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}